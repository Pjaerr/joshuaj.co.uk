/* empty css                              */function P(){}function pe(t){return t()}function ie(){return Object.create(null)}function z(t){t.forEach(pe)}function Z(t){return typeof t=="function"}function Ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let G;function se(t,e){return G||(G=document.createElement("a")),G.href=e,t===G.href}function Ce(t){return Object.keys(t).length===0}function re(t){return t??""}function Ne(t){return t&&Z(t.destroy)?t.destroy:P}let J=!1;function Se(){J=!0}function Ae(){J=!1}function Te(t,e,n,i){for(;t<e;){const s=t+(e-t>>1);n(s)<=i?t=s+1:e=s}return t}function Pe(t){if(t.hydrate_init)return;t.hydrate_init=!0;let e=t.childNodes;if(t.nodeName==="HEAD"){const a=[];for(let o=0;o<e.length;o++){const u=e[o];u.claim_order!==void 0&&a.push(u)}e=a}const n=new Int32Array(e.length+1),i=new Int32Array(e.length);n[0]=-1;let s=0;for(let a=0;a<e.length;a++){const o=e[a].claim_order,u=(s>0&&e[n[s]].claim_order<=o?s+1:Te(1,s,v=>e[n[v]].claim_order,o))-1;i[a]=n[u]+1;const f=u+1;n[f]=a,s=Math.max(f,s)}const r=[],l=[];let c=e.length-1;for(let a=n[s]+1;a!=0;a=i[a-1]){for(r.push(e[a-1]);c>=a;c--)l.push(e[c]);c--}for(;c>=0;c--)l.push(e[c]);r.reverse(),l.sort((a,o)=>a.claim_order-o.claim_order);for(let a=0,o=0;a<l.length;a++){for(;o<r.length&&l[a].claim_order>=r[o].claim_order;)o++;const u=o<r.length?r[o]:null;t.insertBefore(l[a],u)}}function d(t,e){if(J){for(Pe(t),(t.actual_end_child===void 0||t.actual_end_child!==null&&t.actual_end_child.parentNode!==t)&&(t.actual_end_child=t.firstChild);t.actual_end_child!==null&&t.actual_end_child.claim_order===void 0;)t.actual_end_child=t.actual_end_child.nextSibling;e!==t.actual_end_child?(e.claim_order!==void 0||e.parentNode!==t)&&t.insertBefore(e,t.actual_end_child):t.actual_end_child=e.nextSibling}else(e.parentNode!==t||e.nextSibling!==null)&&t.appendChild(e)}function N(t,e,n){J&&!n?d(t,e):(e.parentNode!==t||e.nextSibling!=n)&&t.insertBefore(e,n||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function ve(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function g(t){return document.createElement(t)}function C(t){return document.createTextNode(t)}function D(){return C(" ")}function oe(){return C("")}function $(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function p(t){return Array.from(t.childNodes)}function Oe(t){t.claim_info===void 0&&(t.claim_info={last_index:0,total_claimed:0})}function ye(t,e,n,i,s=!1){Oe(t);const r=(()=>{for(let l=t.claim_info.last_index;l<t.length;l++){const c=t[l];if(e(c)){const a=n(c);return a===void 0?t.splice(l,1):t[l]=a,s||(t.claim_info.last_index=l),c}}for(let l=t.claim_info.last_index-1;l>=0;l--){const c=t[l];if(e(c)){const a=n(c);return a===void 0?t.splice(l,1):t[l]=a,s?a===void 0&&t.claim_info.last_index--:t.claim_info.last_index=l,c}}return i()})();return r.claim_order=t.claim_info.total_claimed,t.claim_info.total_claimed+=1,r}function Be(t,e,n,i){return ye(t,s=>s.nodeName===e,s=>{const r=[];for(let l=0;l<s.attributes.length;l++){const c=s.attributes[l];n[c.name]||r.push(c.name)}r.forEach(l=>s.removeAttribute(l))},()=>i(e))}function b(t,e,n){return Be(t,e,n,g)}function A(t,e){return ye(t,n=>n.nodeType===3,n=>{const i=""+e;if(n.data.startsWith(i)){if(n.data.length!==i.length)return n.splitText(i.length)}else n.data=i},()=>C(e),!0)}function I(t){return A(t," ")}function ce(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}let ee;function L(t){ee=t}const x=[],ae=[],F=[],ue=[],De=Promise.resolve();let X=!1;function Ie(){X||(X=!0,De.then(ke))}function Y(t){F.push(t)}const Q=new Set;let W=0;function ke(){const t=ee;do{for(;W<x.length;){const e=x[W];W++,L(e),Ue(e.$$)}for(L(null),x.length=0,W=0;ae.length;)ae.pop()();for(let e=0;e<F.length;e+=1){const n=F[e];Q.has(n)||(Q.add(n),n())}F.length=0}while(x.length);for(;ue.length;)ue.pop()();X=!1,Q.clear(),L(t)}function Ue(t){if(t.fragment!==null){t.update(),z(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Y)}}const je=new Set;function xe(t,e){t&&t.i&&(je.delete(t),t.i(e))}function Le(t,e,n,i){const{fragment:s,after_update:r}=t.$$;s&&s.m(e,n),i||Y(()=>{const l=t.$$.on_mount.map(pe).filter(Z);t.$$.on_destroy?t.$$.on_destroy.push(...l):z(l),t.$$.on_mount=[]}),r.forEach(Y)}function Re(t,e){const n=t.$$;n.fragment!==null&&(z(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function He(t,e){t.$$.dirty[0]===-1&&(x.push(t),Ie(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Me(t,e,n,i,s,r,l,c=[-1]){const a=ee;L(t);const o=t.$$={fragment:null,ctx:[],props:r,update:P,not_equal:s,bound:ie(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:ie(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};l&&l(o.root);let u=!1;if(o.ctx=n?n(t,e.props||{},(f,v,...T)=>{const y=T.length?T[0]:v;return o.ctx&&s(o.ctx[f],o.ctx[f]=y)&&(!o.skip_bound&&o.bound[f]&&o.bound[f](y),u&&He(t,f)),v}):[],o.update(),u=!0,z(o.before_update),o.fragment=i?i(o.ctx):!1,e.target){if(e.hydrate){Se();const f=p(e.target);o.fragment&&o.fragment.l(f),f.forEach(_)}else o.fragment&&o.fragment.c();e.intro&&xe(t.$$.fragment),Le(t,e.target,e.anchor,e.customElement),Ae(),ke()}L(a)}class Ve{$destroy(){Re(this,1),this.$destroy=P}$on(e,n){if(!Z(n))return P;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(e){this.$$set&&!Ce(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const qe=t=>{const e=t.split(",").map(l=>{let c;const a=l.match(/\?\page=./g)?.[0].replace("?page=","");return a&&(c=parseInt(a,10)),{rel:/rel=".*"/g.exec(l)?.[0].replace('rel="',"").replace('"',""),page:c}}),n=e.find(({rel:l})=>l==="next")?.page,i=e.find(({rel:l})=>l==="previous")?.page,s=e.find(({rel:l})=>l==="first")?.page,r=e.find(({rel:l})=>l==="last")?.page;return{next:n,previous:i,first:s,last:r}};function fe(t,e,n){const i=t.slice();return i[16]=e[n],i[18]=n,i}function me(t,e,n){const i=t.slice();return i[19]=e[n].user,i[20]=e[n].body,i[21]=e[n].createdAt,i}function Ge(t){let e,n,i,s;return{c(){e=g("button"),n=C("Show Comments"),this.h()},l(r){e=b(r,"BUTTON",{class:!0});var l=p(e);n=A(l,"Show Comments"),l.forEach(_),this.h()},h(){m(e,"class","github-issue-comments__show-comments-button svelte-mg28a7")},m(r,l){N(r,e,l),d(e,n),i||(s=$(e,"click",t[14]),i=!0)},p:P,d(r){r&&_(e),i=!1,s()}}}function We(t){let e,n,i,s,r;function l(u,f){return u[6]?ze:Fe}let c=l(t),a=c(t),o=t[1]&&be(t);return{c(){a.c(),e=D(),o&&o.c(),n=D(),i=g("a"),s=C("Write a Comment via Github"),this.h()},l(u){a.l(u),e=I(u),o&&o.l(u),n=I(u),i=b(u,"A",{class:!0,href:!0,target:!0,rel:!0});var f=p(i);s=A(f,"Write a Comment via Github"),f.forEach(_),this.h()},h(){m(i,"class","github-issue-comments__new-comment-button svelte-mg28a7"),m(i,"href",r=`https://github.com/${t[0]}#issue-comment-box`),m(i,"target","_blank"),m(i,"rel","noopener noreferrer")},m(u,f){a.m(u,f),N(u,e,f),o&&o.m(u,f),N(u,n,f),N(u,i,f),d(i,s)},p(u,f){c===(c=l(u))&&a?a.p(u,f):(a.d(1),a=c(u),a&&(a.c(),a.m(e.parentNode,e))),u[1]?o?o.p(u,f):(o=be(u),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null),f&1&&r!==(r=`https://github.com/${u[0]}#issue-comment-box`)&&m(i,"href",r)},d(u){a.d(u),u&&_(e),o&&o.d(u),u&&_(n),u&&_(i)}}}function Fe(t){let e;return{c(){e=g("div"),this.h()},l(n){e=b(n,"DIV",{class:!0}),p(e).forEach(_),this.h()},h(){m(e,"class","github-issue-comments__loading-icon svelte-mg28a7")},m(n,i){N(n,e,i)},p:P,d(n){n&&_(e)}}}function ze(t){let e,n,i=t[5],s=[];for(let c=0;c<i.length;c+=1)s[c]=he(me(t,i,c));let r=null;i.length||(r=_e());let l=t[3]&&de(t);return{c(){for(let c=0;c<s.length;c+=1)s[c].c();r&&r.c(),e=D(),l&&l.c(),n=oe()},l(c){for(let a=0;a<s.length;a+=1)s[a].l(c);r&&r.l(c),e=I(c),l&&l.l(c),n=oe()},m(c,a){for(let o=0;o<s.length;o+=1)s[o].m(c,a);r&&r.m(c,a),N(c,e,a),l&&l.m(c,a),N(c,n,a)},p(c,a){if(a&32){i=c[5];let o;for(o=0;o<i.length;o+=1){const u=me(c,i,o);s[o]?s[o].p(u,a):(s[o]=he(u),s[o].c(),s[o].m(e.parentNode,e))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length,!i.length&&r?r.p(c,a):i.length?r&&(r.d(1),r=null):(r=_e(),r.c(),r.m(e.parentNode,e))}c[3]?l?l.p(c,a):(l=de(c),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(c){ve(s,c),r&&r.d(c),c&&_(e),l&&l.d(c),c&&_(n)}}}function _e(t){let e,n,i,s;return{c(){e=g("p"),n=C("No comments found "),i=g("span"),s=C("\u{1F641}"),this.h()},l(r){e=b(r,"P",{class:!0});var l=p(e);n=A(l,"No comments found "),i=b(l,"SPAN",{role:!0,"aria-label":!0});var c=p(i);s=A(c,"\u{1F641}"),c.forEach(_),l.forEach(_),this.h()},h(){m(i,"role","img"),m(i,"aria-label","Smiley Face Emoji"),m(e,"class","github-issue-comments__no-comments-found svelte-mg28a7")},m(r,l){N(r,e,l),d(e,n),d(e,i),d(i,s)},p:P,d(r){r&&_(e)}}}function he(t){let e,n,i,s,r,l,c,a,o,u,f=t[19].username+"",v,T,y,R=" ",U,j,B=new Date(t[21]).toLocaleDateString()+"",h,O,S,k,H=t[20].__html+"",K,te;return{c(){e=g("div"),n=g("a"),i=g("img"),c=D(),a=g("div"),o=g("div"),u=g("b"),v=C(f),T=D(),y=g("span"),U=C(R),j=C(`\r
                  commented on `),h=C(B),S=D(),k=g("div"),this.h()},l(E){e=b(E,"DIV",{class:!0});var w=p(e);n=b(w,"A",{class:!0,href:!0,target:!0,rel:!0});var ne=p(n);i=b(ne,"IMG",{src:!0,alt:!0,class:!0}),ne.forEach(_),c=I(w),a=b(w,"DIV",{class:!0});var M=p(a);o=b(M,"DIV",{class:!0});var le=p(o);u=b(le,"B",{class:!0});var V=p(u);v=A(V,f),T=I(V),y=b(V,"SPAN",{class:!0});var q=p(y);U=A(q,R),j=A(q,`\r
                  commented on `),h=A(q,B),q.forEach(_),V.forEach(_),le.forEach(_),S=I(M),k=b(M,"DIV",{class:!0});var we=p(k);we.forEach(_),M.forEach(_),w.forEach(_),this.h()},h(){se(i.src,s=t[19].avatarUrl)||m(i,"src",s),m(i,"alt",r=`Avatar of ${t[19].username}`),m(i,"class","svelte-mg28a7"),m(n,"class","github-issue-comments__comment-user-avatar svelte-mg28a7"),m(n,"href",l=`https://github.com/${t[19].username}`),m(n,"target","_blank"),m(n,"rel","noopener noreferrer"),m(y,"class","svelte-mg28a7"),m(u,"class","github-issue-comments__comment-box-header-username svelte-mg28a7"),m(o,"class",O=re(t[19].isRepositoryOwner?"github-issue-comments__comment-box-header github-issue-comments__comment-box-header--is-owner":"github-issue-comments__comment-box-header")+" svelte-mg28a7"),m(k,"class","github-issue-comments__comment-box-body svelte-mg28a7"),m(a,"class","github-issue-comments__comment-box svelte-mg28a7"),m(e,"class","github-issue-comments__comment svelte-mg28a7")},m(E,w){N(E,e,w),d(e,n),d(n,i),d(e,c),d(e,a),d(a,o),d(o,u),d(u,v),d(u,T),d(u,y),d(y,U),d(y,j),d(y,h),d(a,S),d(a,k),k.innerHTML=H,K||(te=Ne(t[10].call(null,k)),K=!0)},p(E,w){w&32&&!se(i.src,s=E[19].avatarUrl)&&m(i,"src",s),w&32&&r!==(r=`Avatar of ${E[19].username}`)&&m(i,"alt",r),w&32&&l!==(l=`https://github.com/${E[19].username}`)&&m(n,"href",l),w&32&&f!==(f=E[19].username+"")&&ce(v,f),w&32&&B!==(B=new Date(E[21]).toLocaleDateString()+"")&&ce(h,B),w&32&&O!==(O=re(E[19].isRepositoryOwner?"github-issue-comments__comment-box-header github-issue-comments__comment-box-header--is-owner":"github-issue-comments__comment-box-header")+" svelte-mg28a7")&&m(o,"class",O),w&32&&H!==(H=E[20].__html+"")&&(k.innerHTML=H)},d(E){E&&_(e),K=!1,te()}}}function de(t){let e,n=Array(t[8]),i=[];for(let s=0;s<n.length;s+=1)i[s]=ge(fe(t,n,s));return{c(){e=g("div");for(let s=0;s<i.length;s+=1)i[s].c();this.h()},l(s){e=b(s,"DIV",{class:!0});var r=p(e);for(let l=0;l<i.length;l+=1)i[l].l(r);r.forEach(_),this.h()},h(){m(e,"class","github-issue-comments__pagination svelte-mg28a7")},m(s,r){N(s,e,r);for(let l=0;l<i.length;l+=1)i[l].m(e,null)},p(s,r){if(r&272){n=Array(s[8]);let l;for(l=0;l<n.length;l+=1){const c=fe(s,n,l);i[l]?i[l].p(c,r):(i[l]=ge(c),i[l].c(),i[l].m(e,null))}for(;l<i.length;l+=1)i[l].d(1);i.length=n.length}},d(s){s&&_(e),ve(i,s)}}}function ge(t){let e,n=t[18]+1+"",i,s,r,l,c;function a(){return t[13](t[18])}return{c(){e=g("button"),i=C(n),s=D(),this.h()},l(o){e=b(o,"BUTTON",{class:!0});var u=p(e);i=A(u,n),s=I(u),u.forEach(_),this.h()},h(){m(e,"class",r="github-issue-comments__pagination-button "+(t[4]===t[18]+1&&"github-issue-comments__pagination-button-active")+" svelte-mg28a7")},m(o,u){N(o,e,u),d(e,i),d(e,s),l||(c=$(e,"click",a),l=!0)},p(o,u){t=o,u&16&&r!==(r="github-issue-comments__pagination-button "+(t[4]===t[18]+1&&"github-issue-comments__pagination-button-active")+" svelte-mg28a7")&&m(e,"class",r)},d(o){o&&_(e),l=!1,c()}}}function be(t){let e,n,i,s;return{c(){e=g("button"),n=C("Check for new comments"),this.h()},l(r){e=b(r,"BUTTON",{class:!0});var l=p(e);n=A(l,"Check for new comments"),l.forEach(_),this.h()},h(){m(e,"class","github-issue-comments__refresh-comments-button svelte-mg28a7"),e.disabled=t[7]},m(r,l){N(r,e,l),d(e,n),i||(s=$(e,"click",t[9]),i=!0)},p(r,l){l&128&&(e.disabled=r[7])},d(r){r&&_(e),i=!1,s()}}}function Je(t){let e;function n(r,l){return r[2]?We:Ge}let i=n(t),s=i(t);return{c(){e=g("section"),s.c(),this.h()},l(r){e=b(r,"SECTION",{class:!0});var l=p(e);s.l(l),l.forEach(_),this.h()},h(){m(e,"class","github-issue-comments svelte-mg28a7")},m(r,l){N(r,e,l),s.m(e,null)},p(r,[l]){i===(i=n(r))&&s?s.p(r,l):(s.d(1),s=i(r),s&&(s.c(),s.m(e,null)))},i:P,o:P,d(r){r&&_(e),s.d()}}}function Ke(t,e,n){let i,{issueUri:s=""}=e,{useShowCommentsButton:r=!0}=e,{allowRefreshingComments:l=!0}=e,{commentsPerPage:c=100}=e,a=!r,o=[],u=!1,f=null,v=1,T=!1;const y=async()=>{n(6,u=!1);try{const h=await fetch(`https://api.github.com/repos/${s}/comments?page=${v}&per_page=${c}`,{method:"GET",headers:{Accept:"application/vnd.github.v3.html+json"}}),O=h.headers.get("link");O&&n(3,f=qe(O));const S=await h.json();if(S.message==="Not Found")throw Error(`The issueUri: "${s}" doesn't exist`);if(S.message)throw Error(S.message);n(5,o=S.map(k=>({body:{__html:k.body_html},user:{username:k.user.login,avatarUrl:k.user.avatar_url,isRepositoryOwner:k.author_association==="OWNER"},createdAt:k.created_at}))),n(6,u=!0)}catch(h){console.error(h)}},R=()=>{n(7,T=!0),y(),setTimeout(()=>n(7,T=!1),1e3)},U=h=>{h!==null&&[h.querySelector(".email-hidden-toggle"),h.querySelector(".email-hidden-reply")].forEach(S=>{S&&h.removeChild(S)})},j=h=>{n(4,v=h+1)},B=()=>n(2,a=!0);return t.$$set=h=>{"issueUri"in h&&n(0,s=h.issueUri),"useShowCommentsButton"in h&&n(11,r=h.useShowCommentsButton),"allowRefreshingComments"in h&&n(1,l=h.allowRefreshingComments),"commentsPerPage"in h&&n(12,c=h.commentsPerPage)},t.$$.update=()=>{t.$$.dirty&24&&n(8,i=f?.last?f.last:v),t.$$.dirty&21&&(a&&v||s)&&y()},[s,l,a,f,v,o,u,T,i,R,U,r,c,j,B]}class Xe extends Ve{constructor(e){super(),Me(this,e,Ke,Je,Ee,{issueUri:0,useShowCommentsButton:11,allowRefreshingComments:1,commentsPerPage:12})}}export{Xe as default};
